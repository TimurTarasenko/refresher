<canvas id="myChart"></canvas>

<script type="text/javascript">
  // Get context with jQuery - using jQuery's .get() method.
  var ctx = $("#myChart").get(0).getContext("2d");
  // This will get the first returned node in the jQuery collection.
  var myNewChart = new Chart(ctx);

  var data = {
    labels: <%= raw(@days) %>,
    datasets: [
      <% @data.each do |current| %>
        {
          <% current.each do |key, value| %>
            <% pre = (key != :data ? '"' : '') %>
            <%= key %>: <%= raw(pre + value.to_s + pre) %>,
          <% end %>
        },
      <% end %>
    ]
  };

  var myLineChart = new Chart(ctx).Line(data, {
    scaleBeginAtZero: true,
    responsive: true,
    multiTooltipTemplate: "<\%= datasetLabel %> - <\%= value %>"
  });

</script>